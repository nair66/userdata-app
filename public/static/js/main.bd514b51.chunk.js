(this["webpackJsonpuserdata-app"]=this["webpackJsonpuserdata-app"]||[]).push([[0],{15:function(e,t,r){},18:function(e,t,r){},19:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),s=r(10),c=r.n(s),o=(r(15),r(2)),l=r.n(o),i=r(9),d=r(7),u=r(3),p=r(4),m=r(6),h=r(5),f=r(0),j=function(e){Object(m.a)(r,e);var t=Object(h.a)(r);function r(){return Object(u.a)(this,r),t.apply(this,arguments)}return Object(p.a)(r,[{key:"render",value:function(){var e=this;return Object(f.jsxs)("form",{className:"card",onSubmit:function(t){return e.props.updateUser(e.props.index,t)},children:[Object(f.jsx)("div",{className:"card-header",children:" Existing User "}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"form-group col-md-6",children:[Object(f.jsx)("label",{htmlFor:"inputName",children:"Name"}),Object(f.jsx)("input",{type:"text",id:"inputName",name:"name",className:"form-control",defaultValue:this.props.name,placeholder:"Jane"})]}),Object(f.jsxs)("div",{className:"form-group col-md-6",children:[Object(f.jsx)("label",{htmlFor:"inputEmail",children:"Email"}),Object(f.jsx)("input",{type:"email",id:"inputEmail",name:"email",className:"form-control",defaultValue:this.props.email,placeholder:"Jane@gmail.com"})]})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"inputAddress",children:"Address"}),Object(f.jsx)("input",{type:"text",id:"inputAddress",name:"address",className:"form-control",defaultValue:this.props.address,placeholder:"1234 Main St"})]}),Object(f.jsxs)("div",{className:"col-sm-10",children:[Object(f.jsx)("button",{type:"submit",className:"btn btn-primary btn-green",children:"Apply Changes"}),Object(f.jsx)("button",{type:"button",className:"btn btn-primary btn-red",onClick:function(t){return e.props.deleteUser(e.props.index,t)},children:"Delete User"})]})]})}}]),r}(a.a.Component),b=j,O=function(e){Object(m.a)(r,e);var t=Object(h.a)(r);function r(){return Object(u.a)(this,r),t.apply(this,arguments)}return Object(p.a)(r,[{key:"render",value:function(){var e=this;return Object(f.jsxs)("form",{className:"card",onSubmit:function(t){return e.props.addUser(t)},children:[Object(f.jsx)("div",{className:"card-header",children:" Add New User "}),Object(f.jsxs)("div",{className:"row",children:[Object(f.jsxs)("div",{className:"form-group col-md-6",children:[Object(f.jsx)("label",{htmlFor:"inputName",children:"Name"}),Object(f.jsx)("input",{type:"text",id:"inputName",name:"name",className:"form-control",defaultValue:this.props.name,placeholder:"Jane"})]}),Object(f.jsxs)("div",{className:"form-group col-md-6",children:[Object(f.jsx)("label",{htmlFor:"inputEmail",children:"Email"}),Object(f.jsx)("input",{type:"email",id:"inputEmail",name:"email",className:"form-control",defaultValue:this.props.email,placeholder:"Jane@gmail.com"})]})]}),Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"inputAddress",children:"Address"}),Object(f.jsx)("input",{type:"text",id:"inputAddress",name:"address",className:"form-control",defaultValue:this.props.address,placeholder:"1234 Main St"})]}),Object(f.jsx)("div",{className:"col-sm-10",children:Object(f.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Add new user"})})]})}}]),r}(a.a.Component),x=O,y=(r(18),function(e){Object(m.a)(r,e);var t=Object(h.a)(r);function r(){var e;Object(u.a)(this,r);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={users:[]},e.addUserHandler=function(t){e.modifyStateAndDB("add"," ",t)},e.updateUserHandler=function(t,r){e.modifyStateAndDB("update",t,r)},e.deleteUserHandler=function(t,r){e.modifyStateAndDB("delete",t,r)},e.modifyStateAndDB=function(){var t=Object(d.a)(l.a.mark((function t(r,n,a){var s,c,o,d;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),s=Object(i.a)(e.state.users),"add"!==r){t.next=8;break}return c={name:a.target.name.value,email:a.target.email.value,address:a.target.address.value},a.target.reset(),t.next=7,fetch("/user",{method:"POST",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(c)}).then((function(t){console.log(t),alert("Successfully added new user"),e.fetchUsers()})).catch((function(e){alert("Cound not add new user"),console.log("error using fetch",e)}));case 7:console.log("Added user");case 8:if("update"!==r){t.next=19;break}if(o={name:a.target.name.value,email:a.target.email.value,address:a.target.address.value},-1!==(d=s.findIndex((function(e){return e._id===n})))){t.next=14;break}return console.log("Error while updating: id not found in state"),t.abrupt("return");case 14:return o._id=n,console.log(o),s[d]=o,t.next=19,fetch("/user",{method:"PUT",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify(s[d])}).then((function(t){console.log(t),alert("Updated user successfully"),e.fetchUsers()})).catch((function(e){alert("Unable to update user"),console.log("error using fetch",e)}));case 19:if("delete"!==r){t.next=22;break}return t.next=22,fetch("/user",{method:"DELETE",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer",body:JSON.stringify({_id:n})}).then((function(t){console.log(t),alert("Deleted user successfully"),e.fetchUsers()})).catch((function(e){alert("Unable to delete user"),console.log("error using fetch",e)}));case 22:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}(),e}return Object(p.a)(r,[{key:"componentDidMount",value:function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.fetchUsers(),console.log("Component loaded");case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchUsers",value:function(){var e=Object(d.a)(l.a.mark((function e(){var t,r=this;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.next=3,fetch("/users",{method:"GET",mode:"cors",cache:"no-cache",credentials:"include",headers:{"Content-Type":"application/json"},redirect:"follow",referrerPolicy:"no-referrer"}).then((function(e){return e.json()})).then((function(e){t=e,r.setState({users:Object(i.a)(t)})})).catch((function(e){alert("Unable to fetch all users"),console.log("error using fetch",e)}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(f.jsxs)(f.Fragment,{children:[this.state.users.map((function(t){return Object(f.jsx)(b,{index:t._id,name:t.name,address:t.address,email:t.email,updateUser:e.updateUserHandler,deleteUser:e.deleteUserHandler},t._id)})),Object(f.jsx)(x,{addUser:this.addUserHandler})]})}}]),r}(a.a.Component)),g=y,v=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,20)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;r(e),n(e),a(e),s(e),c(e)}))};c.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(g,{})}),document.getElementById("root")),v()}},[[19,1,2]]]);
//# sourceMappingURL=main.bd514b51.chunk.js.map